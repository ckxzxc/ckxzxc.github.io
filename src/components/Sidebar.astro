---
const {currentCollection, exerciseList} = Astro.props;
const currentPath = Astro.url.pathname;
const PageSlug = currentPath.split('/').pop();
---

<aside class="drawer w-auto z-6">
    <input id="my-drawer" type="checkbox" class="drawer-toggle" />

    <div class="drawer-side">
      <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
      <ul class="menu bg-base-200 text-base-content min-h-full w-96 p-4 pt-16">
        <li>

          <h2 class="menu-title">
            <a class="link" href={`/${currentCollection.data.category}/${currentCollection.data.slug}`}>{currentCollection.data.title}</a>
          </h2>
          
          <ul class="space-y-2">
            {exerciseList ? (
              exerciseList.map((exercise:any) => (
                <li>
                  <a href={`/${exercise.data.category}/${exercise.data.collection}/${exercise.data.slug}`} 
                    class={(PageSlug === `${exercise.data.slug}`) ? 'menu-active' : ''}>
                    {exercise.data.title}
                  </a>
                </li>
              ))
        
              ): (<p>no exercises</p>)}
          </ul>

        </li>
      </ul>
    </div>
  </aside>